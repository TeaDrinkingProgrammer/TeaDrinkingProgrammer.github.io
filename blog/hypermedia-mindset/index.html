<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="light dark" name=color-scheme><title>Less complexity, same interactivity, all with HTMX: adopting the Hypermedia mindset</title><meta name=description><link href=/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/icons/site.webmanifest rel=manifest><link color=#5bbad5 href=/icons/safari-pinned-tab.svg rel=mask-icon><link rel="shortcut icon" href=/icons/favicon.ico><meta content=#00aba9 name=msapplication-TileColor><meta content=/icons/browserconfig.xml name=msapplication-config><meta content=#ffffff name=theme-color><link href=https://teadrinkingprogrammer.github.io/styles/styles.css rel=stylesheet><script>if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark')
      localStorage.setItem("theme", "dark")
    } else {
      document.documentElement.classList.remove('dark')
      localStorage.setItem("theme", "light")
    }</script><link href=https://teadrinkingprogrammer.github.io/hl-light.css id=hl rel=stylesheet><script async data-goatcounter=https://teadrinkingprogrammer.goatcounter.com/count src=//gc.zgo.at/count.js></script><body class="antialiased text-slate-700 dark:text-slate-300 bg-white dark:bg-stone-900"><header><div class="bg-stone-300 dark:bg-stone-700 py-1"><div class="row justify-between max-w-prose m-auto px-5"><nav class="row items-center gap-2"><img alt=avatar class=h-12 src=https://teadrinkingprogrammer.github.io/icons/logo.png><div><a class=text-xl href=https://teadrinkingprogrammer.github.io>home</a><span class=text-xl> > </span><a class=text-xl href=https://teadrinkingprogrammer.github.io/blog>blog</a><span class=text-xl> > </span><a class=text-xl href=https://teadrinkingprogrammer.github.io/blog/hypermedia-mindset>hypermedia-mindset</a></div></nav><div class="row items-center gap-3"><a aria-label="atom feed" href=https://teadrinkingprogrammer.github.io/blog/atom.xml target=_blank><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M3 17C5.20914 17 7 18.7909 7 21H3V17ZM3 10C9.07513 10 14 14.9249 14 21H12C12 16.0294 7.97056 12 3 12V10ZM3 3C12.9411 3 21 11.0589 21 21H19C19 12.1634 11.8366 5 3 5V3Z" fill=currentColor></path></svg></a><button aria-label="theme switch" data-moon-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z" fill="currentColor"></path></svg>' data-sun-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z" fill="currentColor"></path></svg>' id=theme-toggle><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z" fill=currentColor></path></svg></button></div></div></div></header><div class="flex justify-center items-center w-full"><main class="max-w-prose px-4 w-full"><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' id=copy-cfg style=display:none></div><article class="col w-full" data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M9.41421 8L18.0208 16.6066L16.6066 18.0208L8 9.41421V17H6V6H17V8H9.41421Z" fill="currentColor"></path></svg>' id=post><section aria-label="Article Info" class="col pt-7 gap-4 mb-10"><h1 class=text-2xl>Less complexity, same interactivity, all with HTMX: adopting the Hypermedia mindset</h1><div class="row justify-between"><div><span class="text-lg text-stone-400" id=publish>2025-08-15</span></div><div class="flex gap-2"><a class="text-lg tl-link" href=https://teadrinkingprogrammer.github.io/tags/webdev># webdev</a><a class="text-lg tl-link" href=https://teadrinkingprogrammer.github.io/tags/hypermedia># Hypermedia</a><a class="text-lg tl-link" href=https://teadrinkingprogrammer.github.io/tags/htmx># HTMX</a></div></div></section><section aria-label="Table of Contents" class="bg-stone-200 dark:bg-stone-800 p-4 rounded-lg mb-10"><h2 class="text-2xl pb-3">Contents:</h2><ul class="col gap-3"><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#htmx-beyond-the-hype>HTMX: beyond the hype</a><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#how-we-got-here>How we got here</a><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#single-page-applications>Single Page applications</a><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#hypermedia-libraries-a-modern-spin-on-hypermedia>Hypermedia libraries: a modern spin on hypermedia</a><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#hypermedia-in-action>Hypermedia in action</a><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#the-spa-way>The SPA way</a><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#the-hda-way>The HDA way</a><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#conclusion>Conclusion</a><li><a class="text-black dark:text-white text-xl underline underline-offset-8 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" href=#further-reading>Further reading</a></ul></section><section aria-label=Article class=tl-prose><h2 id=htmx-beyond-the-hype><span class=not-prose> <a aria-label="Anchor link for: htmx-beyond-the-hype" class="tl-link text-2xl" href=#htmx-beyond-the-hype>#</a> </span> HTMX: beyond the hype</h2><p>You might have heard about the buzz around HTMX and Hypermedia as of late. On the surface, HTMX sounds like it is solving a problem that doesn’t exist: we have Single Page Applications, why would we need old-fashioned Multi-page applications. Well, it turns out old-school multi-page apps had one major advantage we abandoned when adopting SPA frameworks: server-side rendered websites do not have to synchronise state between the server and the client. But before I try to convince you that you can build interactive apps with server-side technology, let’s see how we got here.<h2 id=how-we-got-here><span class=not-prose> <a aria-label="Anchor link for: how-we-got-here" class="tl-link text-2xl" href=#how-we-got-here>#</a> </span> How we got here</h2><p>In the beginning God created the heavens and the earth. A bit later, in 1989, Tim Berners Lee created the World Wide Web. At the start of the internet, web-sites were simple compared to today: you requested a web-page and you got one back. Simple as that. Nevertheless, the idea of the internet was, and is still, quite revolutionary: a network of pieces of media (like text, video, audio), linked together through links. The term that was adopted for this idea was Hypermedia.<p>Hypermedia at the beginning of the internet had two problems, though: it was hard to make very dynamic or interactive problems. The first issue was quickly solved by languages like PHP, but a far more interesting one is interactivity. Because, as the internet progressed, people and companies were not just looking for static or even dynamic content, but for something resembling desktop applications. At the time, people started using JQuery to add little bits and pieces of interactivity to their websites, but as the interactivity requirements grew, people found that applications were becoming hard to manage. To solve this issue, people moved to …<h2 id=single-page-applications><span class=not-prose> <a aria-label="Anchor link for: single-page-applications" class="tl-link text-2xl" href=#single-page-applications>#</a> </span> Single Page applications</h2><p>Single Page Applications were made possible by the rise of JavaScript as a language that could be used within the browser. Because single page applications run on the client-side, interactivity was not an issue any more at all. This is the reason most of the industry moved towards it and moved away from JQuery: we as developers want to make good experiences for the end-user. SPAs also come with a big disadvantage, though: they do not make use of the power of Hypermedia. In short, this means that, for SPAs, you need to keep state synchronised between the server and the client. This means that you have to do a lot of stuff twice: routing, authentication and authorisation, data validation/sanitation, translations, and most importantly: data serialization and deserialization.<h2 id=hypermedia-libraries-a-modern-spin-on-hypermedia><span class=not-prose> <a aria-label="Anchor link for: hypermedia-libraries-a-modern-spin-on-hypermedia" class="tl-link text-2xl" href=#hypermedia-libraries-a-modern-spin-on-hypermedia>#</a> </span> Hypermedia libraries: a modern spin on hypermedia</h2><p>The new crop of hypermedia libraries, like HTMX and Datastar, promise a middle ground between both: most of the interactivity of a SPA, with the simplicity of an ‘old school’ hypermedia server. The way they achieve this is by leveraging a feature of hypermedia: hypermedia as the driver of state (HATEOAS). This is the central idea that, instead of sending JSON and then deserialising it and putting it in the DOM (the page), we can skip that and just send HTML and swap that into a specific place of the DOM. This simplified model means we can get rid of most complexity on the client side, while still keeping an interactive website.<h2 id=hypermedia-in-action><span class=not-prose> <a aria-label="Anchor link for: hypermedia-in-action" class="tl-link text-2xl" href=#hypermedia-in-action>#</a> </span> Hypermedia in action</h2><p>One question I immediately had when hearing this HTMX approach, is how exactly you make apps with it that have a modern feel. I conceptually understood that it was possible, but I struggled with actually adopting the Hypermedia mindset. To show you how this works in practice, we will think through a problem I actually experienced: how to build a notification system. First we build think through the problem with a SPA mindset, afterwards we go through it with a Hypermedia mindset which will show us the advantages of the approach in practice.<h2 id=the-spa-way><span class=not-prose> <a aria-label="Anchor link for: the-spa-way" class="tl-link text-2xl" href=#the-spa-way>#</a> </span> The SPA way</h2><p>I started designing it in the way I was used to: listen for a response to come in, take the message out of the response, then display it on the page, all with JavaScript. This is because I wanted a fade-out animation, and I didn’t think you could use Hypermedia for that.<p>As some of you might expect, it got all got quite complex fairly quickly: how do I send the notifications to the client? How do I discard of outdated messages. In short: how do I sync the state of the server-side and the client-side..<p>In a SPA app, we would do something like this:<ul><li>The server sends down a JSON message with all the information you need:</ul><pre class="language-json z-code" data-lang=json><code class=language-json data-lang=json><span class="z-source z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-json">    </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>message<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json">        </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>type<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>success<span class="z-punctuation z-definition z-string z-end z-json">"</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">        </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>title<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>Hi👋<span class="z-punctuation z-definition z-string z-end z-json">"</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">        </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>message<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>Lorem ipsum dolor sit amet<span class="z-punctuation z-definition z-string z-end z-json">"</span></span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">    <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></code></pre><ul><li>Receive the message on the client<li>Set up a template with a for loop<li>Call a library that displays your notification</ul><p>If you wanted to display the notification without a library, you would also need to:<ul><li>Make a notification component, using a template if to make it visible or not<li>Use for loop to list all notifications</ul><p>As you can see, the main critique of SPAs is plainly visible here: you need to go from server -> JSON -> Client -> DOM<p>Let’s take a step back and see what we actually need:<ul><li>A way to select a notification type<li>A fade-out animation</ul><p>From a SPA perspective, it seems like the most logical way is to translate JSON to HMTL and call it a day. It turns out though, that 90% of this problem can be easily solved with only a tiny bit of JavaScript logic if you use a Hypermedia approach.<h2 id=the-hda-way><span class=not-prose> <a aria-label="Anchor link for: the-hda-way" class="tl-link text-2xl" href=#the-hda-way>#</a> </span> The HDA way</h2><p>In Hypermedia, you start with, well, hypermedia! So let’s start with a HyperText Markup Language (HTML) template with some Tailwind CSS styling (using DaisyUI):<pre class="language-jinja2 z-code" data-lang=jinja2><code class=language-jinja2 data-lang=jinja2><span class="z-source z-jinja2"> &lt;div class="bg-white relative rounded-md shadow-md w-96 h-30 mb-4 mr-6 flex items-center gap-3">
</span><span class="z-source z-jinja2">        &lt;div class="
</span><span class="z-source z-jinja2">            w-2
</span><span class="z-source z-jinja2">            h-full 
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">if</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>success<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bg-success
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>info<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bg-info
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>warning<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bg-warning
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>error<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bg-error
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">endif</span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">        ">
</span><span class="z-source z-jinja2">        &lt;/div>
</span><span class="z-source z-jinja2">        &lt;i class="
</span><span class="z-source z-jinja2">            bi
</span><span class="z-source z-jinja2">            text-lg
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">if</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>success<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bi-check-circle-fill text-success
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>info<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bi-info-circle-fill text-info
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>warning<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bi-exclamation-triangle-fill text-warning
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>error<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bi-exclamation-circle-fill text-error
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">endif</span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">        ">&lt;/i>
</span><span class="z-source z-jinja2">        &lt;span><span class="z-meta z-scope z-jinja2 z-variable"><span class="z-entity z-other z-jinja2 z-delimiter z-variable">{{</span> <span class="z-variable z-other z-jinja2">message</span> <span class="z-entity z-other z-jinja2 z-delimiter z-variable">}}</span></span>&lt;/span>
</span><span class="z-source z-jinja2">    &lt;/div>
</span></code></pre><p>As you can see, we don’t need to communicate any metadata, like the type of message to the client, because we deal with that on the server. This is HATEOS in action: the HTML <em>is</em> the state.<p>This works quite well, but what if we want to add a fade-out? Here, we can use a mix of CSS and a sprinkle of Javascript to make it work.<p>The first thing we add is the fade-out effect. You can do this using ‘vanilla’ CSS, but I opted to use the excellent Tailwind CSS Animated. If you have never looked at it yet, you should take a look at <a rel="noopener nofollow noreferrer" href=https://www.tailwindcss-animated.com/configurator.html target=_blank>their excellent configurator</a>, that allows you to trivially put together CSS animations.<p>The following will animate the HTML:<pre class="language-jinja2 z-code" data-lang=jinja2><code class=language-jinja2 data-lang=jinja2><span class="z-source z-jinja2"> &lt;div
</span><span class="z-source z-jinja2">    class="&lt;other CSS classes> animate-delay-[5000ms] animate-fade-left animate-reverse"
</span><span class="z-source z-jinja2">    style="pointer-events:all">
</span><span class="z-source z-jinja2">        &lt;div class="
</span><span class="z-source z-jinja2">            w-2
</span><span class="z-source z-jinja2">            h-full 
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">if</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>success<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bg-success
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>info<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bg-info
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>warning<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bg-warning
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>error<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bg-error
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">endif</span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">        ">
</span><span class="z-source z-jinja2">        &lt;/div>
</span><span class="z-source z-jinja2">        &lt;i class="
</span><span class="z-source z-jinja2">            bi
</span><span class="z-source z-jinja2">            text-lg
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">if</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>success<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bi-check-circle-fill text-success
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>info<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bi-info-circle-fill text-info
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>warning<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bi-exclamation-triangle-fill text-warning
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">elif</span> <span class="z-variable z-other z-jinja2">message</span><span class="z-punctuation z-other z-jinja2">.</span><span class="z-variable z-other z-jinja2 z-attribute">tags</span> <span class="z-keyword z-operator z-comparison z-jinja2">==</span> <span class="z-string z-quoted z-single z-jinja2"><span class="z-punctuation z-definition z-string z-begin z-jinja2">'</span>error<span class="z-punctuation z-definition z-string z-end z-jinja2">'</span></span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">                bi-exclamation-circle-fill text-error
</span><span class="z-source z-jinja2">            <span class="z-meta z-scope z-jinja2 z-tag"><span class="z-entity z-other z-jinja2 z-delimiter z-tag">{%</span> <span class="z-keyword z-control z-jinja2">endif</span> <span class="z-entity z-other z-jinja2 z-delimiter z-tag">%}</span></span>
</span><span class="z-source z-jinja2">        ">&lt;/i>
</span><span class="z-source z-jinja2">        &lt;span><span class="z-meta z-scope z-jinja2 z-variable"><span class="z-entity z-other z-jinja2 z-delimiter z-variable">{{</span> <span class="z-variable z-other z-jinja2">message</span> <span class="z-entity z-other z-jinja2 z-delimiter z-variable">}}</span></span>&lt;/span>
</span><span class="z-source z-jinja2">    &lt;/div>
</span></code></pre><p>Notice how we don’t need any code to fade out the notification. We leverage the fact that the CSS delay will start once the notification is in the DOM, in other words: we use the HDA flow to our advantage.<p>This will create a small problem, though: if we keep receiving notifications, the notifications will fade away but pile up in the DOM. I would also like the user to be able to dismiss the notification. If you are not very familiar with Hypermedia apps, you might think this is impossible to do within the paradigm, and we need to grasp for “hacks”. This isn’t the case, though: we can do some scripting while still working within the constraints of the Hypermedia architecture.<p>Scripting? I thought Hypermedia Driven Apps were all about <em>not</em> using JavaScript?<p>Well, this is partially true. The HDA archticture is all about using Hypermedia to transfer state instead of maintaining both client-side state and server-side state and having to synchronise it. Scripting can absolutely fit in this paradigm, as long as the script doesn’t start maintaining state that is relevant for the server. Carson Gross, the guy behind HTMX who has lot’s of excellent essays on SWE and Hypermedia, has written <a rel="noopener nofollow noreferrer" href=https://htmx.org/essays/hypermedia-friendly-scripting/ target=_blank>a great article</a> about how scripting fits in to HDA apps.<p>In this example, we have already used our hypermedia response and some CSS to instruct the client to fade out the element after a certain time. We just need a tiny bit of scripting to remove the element after the CSS animation is done. We could do this in Vanilla JS, but there are tools that slot into the hypermedia paradigm a lot better, especially with regards to <a rel="noopener nofollow noreferrer" href=https://htmx.org/essays/locality-of-behaviour/ target=_blank>Locality of Behaviour</a>. The authors of HTMX have built <a rel="noopener nofollow noreferrer" href=https://hyperscript.org/docs/#introduction target=_blank>Hyperscript</a> for this purpose, but I prefer sticking with what I know, so I went with AlpineJS. <a rel="noopener nofollow noreferrer" href=https://alpinejs.dev/ target=_blank>AlpineJS</a> is a lightweight Javascript library that makes it a lot easier to enhance HTML with some scripting. In that way, it is similar to JQuery, but it’s syntax takes notes from modern SPA frameworks, and it respects Locality of Behaviour.<p>In our example, adding this behaviour is a piece of cake:<pre class="language-html z-code" data-lang=html><code class=language-html data-lang=html><span class="z-text z-html z-basic">    <span class="z-meta z-tag z-block z-any z-html"><span class="z-punctuation z-definition z-tag z-begin z-html">&lt;</span><span class="z-entity z-name z-tag z-block z-any z-html">div</span>
</span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html">        <span class="z-meta z-attribute-with-value z-html"><span class="z-entity z-other z-attribute-name z-html">x-data</span>
</span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-html">        </span><span class="z-meta z-attribute-with-value z-html"><span class="z-entity z-other z-attribute-name z-html">@click</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-string z-begin z-html">"</span>$el.classList.replace('{{ default_delay_class }}', '{{ click_delay_class }}')<span class="z-punctuation z-definition z-string z-end z-html">"</span></span></span>
</span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html">        <span class="z-meta z-attribute-with-value z-html"><span class="z-entity z-other z-attribute-name z-html">@animationend</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-string z-begin z-html">"</span>$el.remove()<span class="z-punctuation z-definition z-string z-end z-html">"</span></span></span>
</span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html">        <span class="z-meta z-attribute-with-value z-class z-html"><span class="z-entity z-other z-attribute-name z-class z-html">class</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-string z-begin z-html">"</span></span><span class="z-string z-quoted z-double z-html"><span class="z-meta z-class-name z-html">...</span><span class="z-punctuation z-definition z-string z-end z-html">"</span></span></span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>
</span><span class="z-text z-html z-basic">        <span class="z-meta z-tag z-block z-any z-html"><span class="z-punctuation z-definition z-tag z-begin z-html">&lt;</span><span class="z-entity z-name z-tag z-block z-any z-html">div</span> <span class="z-meta z-attribute-with-value z-class z-html"><span class="z-entity z-other z-attribute-name z-class z-html">class</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-string z-begin z-html">"</span></span><span class="z-string z-quoted z-double z-html">
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">w-2</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">h-full</span> 
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">if</span> <span class="z-meta z-class-name z-html">message.tags</span> <span class="z-meta z-class-name z-html">==</span> <span class="z-meta z-class-name z-html">'success'</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">                <span class="z-meta z-class-name z-html">bg-success</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">elif</span> <span class="z-meta z-class-name z-html">message.tags</span> <span class="z-meta z-class-name z-html">==</span> <span class="z-meta z-class-name z-html">'info'</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">                <span class="z-meta z-class-name z-html">bg-info</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">elif</span> <span class="z-meta z-class-name z-html">message.tags</span> <span class="z-meta z-class-name z-html">==</span> <span class="z-meta z-class-name z-html">'warning'</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">                <span class="z-meta z-class-name z-html">bg-warning</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">elif</span> <span class="z-meta z-class-name z-html">message.tags</span> <span class="z-meta z-class-name z-html">==</span> <span class="z-meta z-class-name z-html">'error'</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">                <span class="z-meta z-class-name z-html">bg-error</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">endif</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-block z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">        <span class="z-punctuation z-definition z-string z-end z-html">"</span></span></span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>
</span><span class="z-text z-html z-basic">        <span class="z-meta z-tag z-block z-any z-html"><span class="z-punctuation z-definition z-tag z-begin z-html">&lt;/</span><span class="z-entity z-name z-tag z-block z-any z-html">div</span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>
</span><span class="z-text z-html z-basic">        <span class="z-meta z-tag z-inline z-any z-html"><span class="z-punctuation z-definition z-tag z-begin z-html">&lt;</span><span class="z-entity z-name z-tag z-inline z-any z-html">i</span> <span class="z-meta z-attribute-with-value z-class z-html"><span class="z-entity z-other z-attribute-name z-class z-html">class</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-string z-begin z-html">"</span></span><span class="z-string z-quoted z-double z-html">
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">bi</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">text-lg</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">if</span> <span class="z-meta z-class-name z-html">message.tags</span> <span class="z-meta z-class-name z-html">==</span> <span class="z-meta z-class-name z-html">'success'</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">                <span class="z-meta z-class-name z-html">bi-check-circle-fill</span> <span class="z-meta z-class-name z-html">text-success</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">elif</span> <span class="z-meta z-class-name z-html">message.tags</span> <span class="z-meta z-class-name z-html">==</span> <span class="z-meta z-class-name z-html">'info'</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">                <span class="z-meta z-class-name z-html">bi-info-circle-fill</span> <span class="z-meta z-class-name z-html">text-info</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">elif</span> <span class="z-meta z-class-name z-html">message.tags</span> <span class="z-meta z-class-name z-html">==</span> <span class="z-meta z-class-name z-html">'warning'</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">                <span class="z-meta z-class-name z-html">bi-exclamation-triangle-fill</span> <span class="z-meta z-class-name z-html">text-warning</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">elif</span> <span class="z-meta z-class-name z-html">message.tags</span> <span class="z-meta z-class-name z-html">==</span> <span class="z-meta z-class-name z-html">'error'</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">                <span class="z-meta z-class-name z-html">bi-exclamation-circle-fill</span> <span class="z-meta z-class-name z-html">text-error</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">            <span class="z-meta z-class-name z-html">{%</span> <span class="z-meta z-class-name z-html">endif</span> <span class="z-meta z-class-name z-html">%}</span>
</span></span></span></span><span class="z-text z-html z-basic"><span class="z-meta z-tag z-inline z-any z-html"><span class="z-meta z-attribute-with-value z-class z-html"><span class="z-string z-quoted z-double z-html">        <span class="z-punctuation z-definition z-string z-end z-html">"</span></span></span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span><span class="z-meta z-tag z-inline z-any z-html"><span class="z-punctuation z-definition z-tag z-begin z-html">&lt;/</span><span class="z-entity z-name z-tag z-inline z-any z-html">i</span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>
</span><span class="z-text z-html z-basic">        <span class="z-meta z-tag z-inline z-any z-html"><span class="z-punctuation z-definition z-tag z-begin z-html">&lt;</span><span class="z-entity z-name z-tag z-inline z-any z-html">span</span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>{{ message }}<span class="z-meta z-tag z-inline z-any z-html"><span class="z-punctuation z-definition z-tag z-begin z-html">&lt;/</span><span class="z-entity z-name z-tag z-inline z-any z-html">span</span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>
</span><span class="z-text z-html z-basic">    <span class="z-meta z-tag z-block z-any z-html"><span class="z-punctuation z-definition z-tag z-begin z-html">&lt;/</span><span class="z-entity z-name z-tag z-block z-any z-html">div</span><span class="z-punctuation z-definition z-tag z-end z-html">></span></span>
</span></code></pre><p>In our case, we just needed to add three lines:<ul><li>x-data is needed to ‘turn on’ AlpineJS in this element.<li>@click is an attribute that takes a function and executes on a click event. Click is not the only event, any event can be placed after @, including, very helpfully, HTMX events.<li>$el is a ‘magic’ directive which returns the current DOM element.</ul><p>With that, this code does two things:<ul><li>When the element is clicked, replace the 5000ms (5s) delay with a 1000ms (1s) delay.<li>When the animationend event is raised, remove the current element.</ul><p>That’s all the JavaScript we need to make this notification <em>as dynamic as a SPA app</em> with a fraction of the code.<p>To integrate this message system in my Django application, I created a simple middleware that adds the following snippet to the end of any response that was made using HTMX:<pre class="language-python z-code" data-lang=python><code class=language-python data-lang=python><span class="z-source z-python"><span class="z-meta z-class z-python"><span class="z-storage z-type z-class z-python"><span class="z-keyword z-declaration z-class z-python">class</span></span> <span class="z-entity z-name z-class z-python"><span class="z-meta z-generic-name z-python">HtmxMessagesMiddleware</span></span><span class="z-meta z-class z-inheritance z-python"><span class="z-punctuation z-section z-inheritance z-begin z-python">(</span></span></span><span class="z-meta z-class z-inheritance z-python"><span class="z-entity z-other z-inherited-class z-python">MiddlewareMixin</span><span class="z-punctuation z-section z-inheritance z-end z-python">)</span></span><span class="z-meta z-class z-python"><span class="z-punctuation z-section z-class z-begin z-python">:</span></span>
</span><span class="z-source z-python">    <span class="z-comment z-block z-documentation z-python"><span class="z-punctuation z-definition z-comment z-begin z-python">"""</span>Middleware to append the message partial to HTMX responses with messages.<span class="z-punctuation z-definition z-comment z-end z-python">"""</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-function z-python">    <span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">process_response</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">self</span><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">request</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">HttpRequest</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">response</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">HttpResponse</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-></span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">HttpResponse</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span>
</span><span class="z-source z-python">        <span class="z-comment z-block z-documentation z-python"><span class="z-punctuation z-definition z-comment z-begin z-python">"""</span>Process the response and chain message partials for HTMX requests.<span class="z-punctuation z-definition z-comment z-end z-python">"""</span></span>
</span><span class="z-source z-python">        <span class="z-comment z-line z-number-sign z-python"><span class="z-punctuation z-definition z-comment z-python">#</span> Is this request not an HTMX request? Let the normal response continue
</span></span><span class="z-source z-python">        <span class="z-meta z-statement z-conditional z-if z-python"><span class="z-keyword z-control z-conditional z-if z-python">if</span> <span class="z-keyword z-operator z-logical z-python">not</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">request</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">headers</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">get</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">"</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">HX-Request<span class="z-punctuation z-definition z-string z-end z-python">"</span></span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-block z-conditional z-if z-python">:</span></span>
</span><span class="z-source z-python">            <span class="z-keyword z-control z-flow z-return z-python">return</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">response</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python">        <span class="z-comment z-line z-number-sign z-python"><span class="z-punctuation z-definition z-comment z-python">#</span> If there are notifications for this request
</span></span><span class="z-source z-python">        <span class="z-meta z-statement z-conditional z-if z-python"><span class="z-keyword z-control z-conditional z-if z-python">if</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">messages</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">get_messages</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">request</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-block z-conditional z-if z-python">:</span></span>
</span><span class="z-source z-python">            <span class="z-comment z-line z-number-sign z-python"><span class="z-punctuation z-definition z-comment z-python">#</span> Render the notification template
</span></span><span class="z-source z-python">            <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">message_html</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">render_to_string</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">"</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">partials/messages-update-partial.html<span class="z-punctuation z-definition z-string z-end z-python">"</span></span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">request</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">request</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">            <span class="z-comment z-line z-number-sign z-python"><span class="z-punctuation z-definition z-comment z-python">#</span> And add that at the end of the already existing response.
</span></span><span class="z-source z-python">            <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">response</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">content</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">response</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">content</span></span> <span class="z-keyword z-operator z-arithmetic z-python">+</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">message_html</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">encode</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python">        <span class="z-keyword z-control z-flow z-return z-python">return</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">response</span></span>
</span></code></pre><p>To configure how this should behave, we only have to wrap the component inside this div: <code>&lt;div id="messages" hx-swap-oob="beforeend"></code>. The <code>hx-swap-oob</code> attribute means that the contents of the div should be swapped in a different place than the main hypermedia. This allows us to ‘tag along’ this hypermedia snippet along with form errors, for example. The <code>beforeend</code> argument means it will swap it at the end of the div, so it is swapped in at the bottom.<p>The last thing we have to do, is put the following HTML in the base.html file:<pre class=z-code><code><span class="z-text z-plain">&lt;div id="messages"
</span><span class="z-text z-plain">        class="z-50 fixed inset-0 flex flex-col-reverse items-end justify-start h-screen w-screen"
</span><span class="z-text z-plain">        style="pointer-events:none">{% include "partials/messages-partial.html" %}&lt;/div>
</span></code></pre><p>It styles the div so that it is above everything else (<code>z-50</code>), puts it on the bottom left (<code>inset-0</code>) and reverses the order so the elements go from the bottom up. The include statement references our previous HTML.<p>And that’s it. We have a full notification system that is responsive, modern and integrated with our messages framework all with minimal code and only a few lines of client side scripting and no meaningful client-side state or logic.<h2 id=conclusion><span class=not-prose> <a aria-label="Anchor link for: conclusion" class="tl-link text-2xl" href=#conclusion>#</a> </span> Conclusion</h2><p>I hope I have convinced you that modern applications with good UX can be made with HTMX and do not require SPAs per se. Of course, not all applications are a good fit for hypermedia, Carson has already written a <a rel="noopener nofollow noreferrer" href=https://htmx.org/essays/when-to-use-hypermedia/ target=_blank>great article</a> on that. But I always apply the 80/20 rule: 80 percent of websites are Wordpress, and of the other 20%, 80% websites are mostly fancy CRUD interfaces. In those cases, using Hypermedia can significantly decrease development complexity, with all the advantages that brings.<p>In my next blog post, I want to show some more advanced examples of creating interactive elements using HTMX and Django, so stay tuned for that.<h2 id=further-reading><span class=not-prose> <a aria-label="Anchor link for: further-reading" class="tl-link text-2xl" href=#further-reading>#</a> </span> Further reading</h2><p>Carson Gross is a great and engaging writer while also being a memelord at the same time. It’s a combo that seems to be working well :).<ul><li><a rel="noopener nofollow noreferrer" href=https://x.com/htmx_org target=_blank>His chaotic Twitter page</a><li><a rel="noopener nofollow noreferrer" href=https://htmx.org/essays/ target=_blank>His great articles</a><li>Hypermedia systems: a book written by Carson Gross, Adam Stepinski and Deniz Akşimşek which goes into the philosophy of Hypermedia. It is really easy to follow and I highly recommend reading it. The book is free to read online or about 10 euros as an ebook in most online retail stores.<li><a rel="noopener nofollow noreferrer" href=https://grugbrain.dev/ target=_blank>The Grug Brained Developer</a>: a hilarious article (??) in caveman language that actually contains some great advice.</ul><p>I also want to highlight the <a href="https://youtu.be/akd7u69k27k?feature=shared" rel="noopener nofollow noreferrer" target=_blank>Bugbytes Youtube channel</a>. He has a lot of excellent videos about how to get hands on with HTMX and Django, as well as how you combine with other libraries like DaisyUI.<p>P.S: I wasn’t listening to anything in particular when writing this post, but lately I have been listening to the album <a href="https://www.youtube.com/watch?v=GvdPkclVeFE&list=PLP9SWLrsGSn93_66KMQBGVT-n5ASl5yhc" rel="noopener nofollow noreferrer" target=_blank>Garden of Hera</a> from OGENE. Dutch folks from my age might remember them going to the Junior Eurovision Contest in 2007. With this album, they have really chosen their own path and it shows. It’s nice to see a bit more of that in the music business.</section></article><hr class="h-px my-10 bg-slate-700 dark:bg-slate-300"><section aria-label="Subscription call-to-action"><div class="col gap-8"><p class="[&>a]:underline [&>a]:underline-offset-4 [&>a]:decoration-2 [&>a]:decoration-sky-500 [&>a]:dark:decoration-sky-400">Did you like this blogpost? Then consider subscribing via email or Atom feed. The email newsletter uses <a href=https://buttondown.email/refer/TDP target=_blank> Buttondown</a>, which does not track you.<div class="flex gap-5"><form class="col gap-2 w-1/2" onsubmit="window.open('https://buttondown.email/TDP', 'popupwindow')" action=https://buttondown.email/api/emails/embed-subscribe/TDP method=post target=popupwindow><input aria-label="Email input field" class="p-2 bg-stone-300 dark:bg-stone-700n placeholder:text-slate-700 dark:placeholder:text-slate-900" placeholder="Enter your email address" id=bd-email name=email type=email><input class="rounded-md text-black dark:bg-sky-600 p-2 bg-sky-500" type=submit value=Subscribe></form><div class="flex justify-center items-center w-1/2"><a aria-label="atom feed" href=https://teadrinkingprogrammer.github.io/atom.xml><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M3 17C5.20914 17 7 18.7909 7 21H3V17ZM3 10C9.07513 10 14 14.9249 14 21H12C12 16.0294 7.97056 12 3 12V10ZM3 3C12.9411 3 21 11.0589 21 21H19C19 12.1634 11.8366 5 3 5V3Z" fill=currentColor></path></svg></a></div></div></div></section><hr class="h-px my-10 bg-slate-700 dark:bg-slate-300"><section aria-label="Comment section"><script async crossorigin data-category=Announcements data-category-id=DIC_kwDOKLzys84CZXad data-emit-metadata=0 data-input-position=bottom data-lang=en data-loading=lazy data-mapping=pathname data-reactions-enabled=1 data-repo=TeaDrinkingProgrammer/TeaDrinkingProgrammer.github.io data-repo-id=R_kgDOKLzysw data-strict=0 data-theme=https://teadrinkingprogrammer.github.io/giscus_light.css src=https://giscus.app/client.js></script></section><div class="flex justify-center my-16"><button aria-label="back to top" id=back-to-top><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill=currentColor></path></svg></button></div><footer class="text-stone-400 dark:text-stone-400 row my-16 text-center"><div class=basis-full><p>© 2023-2024 Stijn van Houwelingen</div><div class=basis-full><div>Powered by <a class="text-stone-500 dark:text-stone-300 underline underline-offset-4 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" rel="noreferrer noopener" href=https://www.getzola.org target=_blank>zola</a> and <a class="text-stone-500 dark:text-stone-300 underline underline-offset-4 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" rel="noreferrer noopener" href=https://github.com/TeaDrinkingProgrammer/tranquil target=_blank>tranquil</a></div></div><div class=basis-full><a class="text-stone-500 dark:text-stone-300 underline underline-offset-4 decoration-1 hover:decoration-2 decoration-sky-500 dark:decoration-sky-400" rel="noreferrer noopener" href=https://teadrinkingprogrammer.github.io/privacy target=_blank>Privacy Policy</a></div></footer></main></div><link href=https://teadrinkingprogrammer.github.io/atom.xml rel=alternate title=Atom type=application/atom+xml><script src=https://teadrinkingprogrammer.github.io/js/post.js></script><script src=https://teadrinkingprogrammer.github.io/js/lightense.min.js></script><script src=https://teadrinkingprogrammer.github.io/js/main.js></script>